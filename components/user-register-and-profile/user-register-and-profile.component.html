<h1 *ngIf=" api.isLoggedOut() ">User Registeration</h1>
<h1 *ngIf=" api.isLoggedIn() ">Profile update.</h1>
<div *ngIf=" justRegistered ">
    어서오세요, {{ api.getMemberNickname() }}님. 회원가입을 축하드립니다.
    <br> 추가적으로 회원 이름, 전화번호를 입력 하실 수 있으며, 사진을 업로드 하실 수 있습니다. 참고로 나중에 하셔도 됩니다.
</div>
<div *ngIf=" ! justRegistered && api.isLoggedIn() ">
    {{ api.getMemberNickname() }} 회원님의 정보를 수정합니다.
</div>
<hr>
<div style="color: red;" *ngIf=" loader.profile ">Loading profile...</div>
<section id="profile-photo-update" *ngIf=" api.isLoggedIn() ">

    <div *ngIf=" form.url_profile_photo ">
        <img src="{{ api.thumbnailUrl({ width: 100, height: 120, path: form.url_profile_photo }) }}" *ngIf=" form.url_profile_photo ">
        <div>
            <button (click)=" onClickDeletePrimaryPhoto() ">Delete Primary Photo</button>
        </div>
    </div>

    <input type="file" name="file" (change)="onChangePrimaryPhoto($event)">
    <span class="percentage" *ngIf=" percentage ">{{ percentage }}%</span>

</section>

<section id="registration-form">
    <form (ngSubmit)="onSubmit( $event )">
        <div class="set email" *ngIf=" api.isLoggedOut() ">
            <span class="caption">Email</span>
            <span class="text">
                <input type="text" name="email" [(ngModel)]=" form.email " autocomplete="off">
            </span>
        </div>
        <div class="set email" *ngIf=" api.isLoggedIn() ">
            <span class="caption">Email</span>
            <span class="text">
                {{ form.email }}
            </span>
        </div>
        <div class="set password" *ngIf=" api.isLoggedOut() ">
            <span class="caption">Password</span>
            <span class="text">
                <input type="password" name="password" [(ngModel)]=" form.password " autocomplete="off">
            </span>
        </div>
        <div class="set nickname">
            <span class="caption">Nickname</span>
            <span class="text">
                <input type="test" name="nickname" [(ngModel)]=" form.nickname ">
            </span>
        </div>
        <div class="set name" *ngIf=" api.isLoggedIn() ">
            <span class="caption">Name</span>
            <span class="text">
                <input type="test" name="name" [(ngModel)]=" form.name ">
            </span>
        </div>
        <div class="set mobile" *ngIf=" api.isLoggedIn() ">
            <span class="caption">Mobile Phone Number</span>
            <span class="text">
                <input type="test" name="mobile" [(ngModel)]=" form.mobile ">
            </span>
        </div>
        <div class="set submit">
            <span class="caption"></span>
            <span class="text">
                <button type="submit">Register</button>
                <div style="color: red;" *ngIf=" loader.submit ">서버로 전송중입니다.</div>
            </span>
        </div>
    </form>
</section>